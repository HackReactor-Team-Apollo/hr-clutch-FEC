

let productMainInfo = {
    "id": 37316,
    "campus": "hr-rfe",
    "name": "Pumped Up Kicks",
    "slogan": "Faster than a just about anything",
    "description": "The Pumped Up serves up crisp court style with a modern look. These shoes show off tennis-whites shades and are constructed with a supple leather upper and a classic rubber cupsole.",
    "category": "Kicks",
    "default_price": "89.00",
    "created_at": "2021-08-13T14:37:33.145Z",
    "updated_at": "2021-08-13T14:37:33.145Z",
    "features": [
        {
            "feature": "Sole",
            "value": "Rubber"
        },
        {
            "feature": "Material",
            "value": "FullControlSkin"
        },
        {
            "feature": "Mid-Sole",
            "value": "ControlSupport Arch Bridge"
        },
        {
            "feature": "Stitching",
            "value": "Double Stitch"
        }
    ]
}


let onloadState = [
    {
        "style_id": 221027,
        "style_specs": {
            "name": "White",
            "original_price": "89.00",
            "sale_price": null
        },
        "style_photos": [
            {
                "original": "https://images.unsplash.com/photo-1477420143023-6a0e0b04b69a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1477420143023-6a0e0b04b69a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1518687338977-a84d3086a934?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=652&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1518687338977-a84d3086a934?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1546367791-e7447b431084?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1546367791-e7447b431084?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1498168208808-4c2706938a2f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1001&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1498168208808-4c2706938a2f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1556812191-381c7e7d96d6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2982&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1556812191-381c7e7d96d6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1526330563440-3ae2174b6bce?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1655&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1526330563440-3ae2174b6bce?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1515243061678-14fc18b93935?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "uhttps://images.unsplash.com/photo-1515243061678-14fc18b93935?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1516199707327-5399434d0aa4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1083&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1516199707327-5399434d0aa4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1541444446610-749d3299b35e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1541444446610-749d3299b35e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1548861216-17dd1ac80d5f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=664&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1548861216-17dd1ac80d5f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1558422504-3d17542c1799?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1558422504-3d17542c1799?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            }
        ],
        "style_skus": {
            "1281202": {
                "quantity": 14,
                "size": "7"
            },
            "1281203": {
                "quantity": 25,
                "size": "7.5"
            },
            "1281204": {
                "quantity": 9,
                "size": "8"
            },
            "1281205": {
                "quantity": 2,
                "size": "8.5"
            },
            "1281206": {
                "quantity": 18,
                "size": "9"
            },
            "1281207": {
                "quantity": 12,
                "size": "9.5"
            },
            "1281208": {
                "quantity": 10,
                "size": "10"
            },
            "1281209": {
                "quantity": 18,
                "size": "10.5"
            },
            "1281210": {
                "quantity": 11,
                "size": "11"
            },
            "1281211": {
                "quantity": 35,
                "size": "11.5"
            },
            "1281212": {
                "quantity": 25,
                "size": "12"
            }
        }
    },
    {
        "style_id": 221028,
        "style_specs": {
            "name": "Black",
            "original_price": "89.00",
            "sale_price": null
        },
        "style_photos": [
            {
                "original": "https://images.unsplash.com/photo-1463100099107-aa0980c362e6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1463100099107-aa0980c362e6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1536830220630-ce146cccac84?ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1536830220630-ce146cccac84?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1459947727010-6267d2c1232f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1459947727010-6267d2c1232f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1526113438757-122d6d54da4e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1563&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1526113438757-122d6d54da4e?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1523296357416-a4b3c4b9ee65?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1523296357416-a4b3c4b9ee65?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1510867759970-3d2ca293be77?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=668&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1510867759970-3d2ca293be77?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1534960680480-ca9853707e10?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2384&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1534960680480-ca9853707e10?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1519330377309-9ee1c6783348?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=668&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1519330377309-9ee1c6783348?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/11/converse-fields.jpg?ixlib=rb-1.2.1&auto=format&fit=crop&w=1570&q=80",
                "thumbnail": "https://images.unsplash.com/11/converse-fields.jpg?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1522032238811-74bc59578599?ixlib=rb-1.2.1&auto=format&fit=crop&w=1567&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1522032238811-74bc59578599?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80"
            },
            {
                "original": "https://images.unsplash.com/photo-1472186422470-1f3fbde547aa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1647&q=80",
                "thumbnail": "https://images.unsplash.com/photo-1472186422470-1f3fbde547aa?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80"
            }
        ],
        "style_skus": {
            "1281213": {
                "quantity": 14,
                "size": "7"
            },
            "1281214": {
                "quantity": 25,
                "size": "7.5"
            },
            "1281215": {
                "quantity": 9,
                "size": "8"
            },
            "1281216": {
                "quantity": 2,
                "size": "8.5"
            },
            "1281217": {
                "quantity": 18,
                "size": "9"
            },
            "1281218": {
                "quantity": 12,
                "size": "9.5"
            },
            "1281219": {
                "quantity": 10,
                "size": "10"
            },
            "1281220": {
                "quantity": 18,
                "size": "10.5"
            },
            "1281221": {
                "quantity": 11,
                "size": "11"
            },
            "1281222": {
                "quantity": 35,
                "size": "11.5"
            },
            "1281223": {
                "quantity": 25,
                "size": "12"
            }
        }
    }
]




  let productSorter = function (data) {
    let newState = [];

    data.results.map(style => {
        let stylePhotos = [];
        style.photos.map(photo => {
            stylePhotos.push({
                original: photo.url,
                thumbnail: photo.thumbnail_url
            })
        })
        return newState.push({
            style_id: style.style_id,
            style_specs: {
                name: style.name,
                original_price: style.original_price,
                sale_price: style.sale_price,
            },
            style_photos: stylePhotos,
            style_skus: style.skus
        })
    })
    return newState
}

let skuArray = [];
let entryList = Object.entries(onloadState[0]);
let skuObj = entryList[3][1];
for (let item in skuObj) {
    skuArray.push({
                sku: item,
                quantity: skuObj[item].quantity,
                sizes: skuObj[item].size
            })
        };


//PRODUCT SKU INFOOOOOO
let getSkuInfo = function(newData) {
let skuArray = [];
let entryList = Object.entries(newData[0]);
let skuObj = entryList[3][1];
for (let item in skuObj) {
    skuArray.push({
                sku: item,
                quantity: skuObj[item].quantity,
                sizes: skuObj[item].size
            })
        };
        return skuArray
    }

    let getStyleSkuInfo = function(productInfo, productID) {
        // let skuArray = [];
        // let productInfo = Object.entries(newData);
        // let productDetails = productInfo[1];
        // let productStyles = productDetails[1];
        let skuObj = {};

        // console.log("productDetails: ", productDetails)
        // console.log("productStyles: ", productStyles)
        productInfo.forEach(style => {
            if (style.style_id === productID) {
                skuObj = style;
            }
        })

        for (let item in skuObj.skus) {
        //     console.log("skuOBJ: ", skuObj);
        //     console.log("ITEM: ", item);
        //     console.log("SKU OBJ AT ITEM: ", skuObj[item])
            skuArray.push({
                        sku: item,
                        quantity: skuObj.skus[item].quantity,
                        sizes: skuObj.skus[item].size
                    })
                };
                console.log("SKU ARRAY: ", skuArray)
                return skuArray
            }



//PRODUCT DETAILS UTILITY FUNCTIONS
let getCurrentSize = function(newSku) {
    let currentSize = 0;
    for (let i = 0; i < this.styleSkus.length; i++) {
        if (newSku === this.styleSkus[i].sku) {
            currentSize = this.styleSkus[i].size
        }
    }
    return currentSize
}

let sizeToQuantity = function(currentSize) {
    let maxQuantity = 0;
    let quantities = [];
    for (let i = 0; i < this.state.styleSkus.length; i++) {
        if (this.state.styleSkus[i].size === currentSize) {
            maxQuantity = this.state.styleSkus[i].quantity
        }
    }
    for (let i = 1; i <= maxQuantity; i++) {
        quantities.push(i)
    }


    return quantities
}







module.exports = {
    productSorter,
    onloadState,
    productMainInfo,
    skuArray,
    getSkuInfo,
    sizeToQuantity,
    getStyleSkuInfo
}

//   module.exports.productSorter = productSorter;
//   module.exports.onloadState = onloadState;
//   module.exports.productMainInfo = productMainInfo;
//   module.exports.skuArray = skuArray;